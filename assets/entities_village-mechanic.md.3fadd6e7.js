import{_ as t,r as p,c as o,a as s,b as e,d as r,e as a,o as l}from"./404.md.e8c2e6ff.js";const E='{"title":"Village Mechanic for Custom Entities","description":"","frontmatter":{"title":"Village Mechanic for Custom Entities","category":"Tutorials","mention":["AeroForta","MedicalJewel105"]},"headers":[{"level":2,"title":"Navigation Behavior","slug":"navigation-behavior"},{"level":2,"title":"Main Behavior","slug":"main-behavior"},{"level":3,"title":"Sleep","slug":"sleep"},{"level":3,"title":"Work","slug":"work"},{"level":3,"title":"Gathering","slug":"gathering"},{"level":3,"title":"Scheduler","slug":"scheduler"},{"level":2,"title":"Other Behavior","slug":"other-behavior"}],"relativePath":"entities/village-mechanic.md","lastUpdated":1639425383153}',c={},u=e("p",null,"This article is for anyone who wanted to try imitate the village mechanic for their entities",-1),i=e("h2",{id:"navigation-behavior",tabindex:"-1"},[r("Navigation Behavior "),e("a",{class:"header-anchor",href:"#navigation-behavior","aria-hidden":"true"},"#")],-1),k=e("p",null,"First let's start with some basic navigation behavior.",-1),b=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:preferred_path&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//Build the best path for entity walk</span>
    <span class="token property">&quot;max_fall_blocks&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//The entity will always try to fall 1 block when navigating through hills</span>
    <span class="token property">&quot;jump_cost&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">//Jump cost defines how likely entity is going to jump. The higher the number, the less likely to jump</span>
    <span class="token property">&quot;default_block_cost&quot;</span><span class="token operator">:</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token comment">//Cost for every block that&#39;s not on &quot;preferred_path_blocks&quot;</span>
    <span class="token property">&quot;preferred_path_blocks&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token comment">//Specifies cost for specific block. Entities will always try to walk on the lowest cost block</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;cost&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;blocks&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;grass_path&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;cost&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;blocks&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;cobblestone&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;stone&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;cost&quot;</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span>
            <span class="token property">&quot;blocks&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;bed&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;lectern&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div>`,1),m=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:behavior.random_stroll&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//Allows entity to do random walk</span>
    <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span><span class="token number">9</span><span class="token punctuation">,</span>
    <span class="token property">&quot;speed_multiplier&quot;</span><span class="token operator">:</span><span class="token number">0.55</span><span class="token punctuation">,</span>
    <span class="token property">&quot;xz_dist&quot;</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">//How far the entity walk in horizontal</span>
    <span class="token property">&quot;y_dist&quot;</span><span class="token operator">:</span><span class="token number">5</span> <span class="token comment">//How far the entity walk up or down the hill</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,1),d=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:behavior.move_through_village&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//Makes entity navigate around a village by creating a path to patrol. Used by Iron Golem</span>
	<span class="token property">&quot;priority&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
	<span class="token property">&quot;speed_multiplier&quot;</span><span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span>
	<span class="token property">&quot;only_at_night&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,1),q=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:behavior.move_indoors&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//Allows entity to enter a building and also take shelter when raining. Needs open door capabilities</span>
    <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span><span class="token number">5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,1),h=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:behavior.restrict_open_door&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//Allows entity to stay indoors while the sun is down</span>
    <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Use in pair with:</p>`,2),_=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:annotation.open_door&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,1),y=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:navigation.walk&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;can_pass_doors&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;can_open_doors&quot;</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,1),g=a(`<div class="language-json line-numbers-mode"><pre><code> <span class="token property">&quot;minecraft:behavior.open_door&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_door_after&quot;</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="main-behavior" tabindex="-1">Main Behavior <a class="header-anchor" href="#main-behavior" aria-hidden="true">#</a></h2>`,2),v=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:dweller&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;dwelling_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;village&quot;</span><span class="token punctuation">,</span> <span class="token comment">//This will probably only work for vanilla structures such as Mansion and Ocean Monument. However not tested yet so is not recomended to change it</span>
	<span class="token property">&quot;dweller_role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;inhabitant&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">//&quot;inhabitant&quot; allow  entity to claim a bed and bell, &quot;minecraft:behavior.sleep&quot; needed</span>
    <span class="token comment">//&quot;defender&quot; same as Iron Golem, currently has no effect but probably for &quot;minecraft:behavior.defend_village_target&quot;</span>
    <span class="token comment">//&quot;passive&quot; same as Cat, currently has no effect</span>
    <span class="token comment">//&quot;Hostile&quot; same as Illager, Witch, Ravager, currently has no effect</span>
	<span class="token property">&quot;preferred_profession&quot;</span><span class="token operator">:</span> <span class="token string">&quot;farmer&quot;</span><span class="token punctuation">,</span> <span class="token comment">//Sets the most likely profession, optional for &quot;minecraft:behavior.work&quot;</span>
	<span class="token property">&quot;update_interval_base&quot;</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
	<span class="token property">&quot;update_interval_variant&quot;</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
	<span class="token property">&quot;can_find_poi&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//Allows the entity to find point of interest. e.g. Job site</span>
	<span class="token property">&quot;can_migrate&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//Allows the entity to migrate like changing sleeping bed to the other village</span>
	<span class="token property">&quot;first_founding_reward&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="sleep" tabindex="-1">Sleep <a class="header-anchor" href="#sleep" aria-hidden="true">#</a></h3><p>Requires &quot;dweller_role&quot; set to be &quot;inhabitant&quot; and make sure your entity already had sleep animation otherwise they will just standing still on the bed. Also this behavior doesn&#39;t have wake system like on the villager unless using damage sensor that will trigger the event for removing component group that contain this behavior.</p>`,3),w=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:behavior.sleep&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token property">&quot;goal_radius&quot;</span><span class="token operator">:</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token comment">//Radius, in which entity jumps to bed</span>
    <span class="token property">&quot;speed_multiplier&quot;</span><span class="token operator">:</span><span class="token number">0.6</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sleep_collider_height&quot;</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token comment">//Collision for sleeping entity</span>
    <span class="token property">&quot;sleep_collider_width&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//Collision for sleeping entity</span>
    <span class="token property">&quot;sleep_y_offset&quot;</span><span class="token operator">:</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token comment">//Sets at which height entity would sleep</span>
    <span class="token property">&quot;timeout_cooldown&quot;</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">//Time in second before the goal reused after some failure like villager unable to reach the bed</span>
    <span class="token property">&quot;cooldown_time&quot;</span><span class="token operator">:</span><span class="token number">3</span> <span class="token comment">//Time before this goal active again</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="work" tabindex="-1">Work <a class="header-anchor" href="#work" aria-hidden="true">#</a></h3><p>Requires &quot;dweller_role&quot; set to be &quot;inhabitant&quot; also if &quot;preferred_profession&quot; doesn&#39;t exist the entity will try to move to the closest any job site.</p>`,3),f=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:behavior.work&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;priority&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
	<span class="token property">&quot;active_time&quot;</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token comment">//Amount of ticks the entity will stay at work location</span>
	<span class="token property">&quot;speed_multiplier&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
	<span class="token property">&quot;goal_cooldown&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token comment">//Amount of ticks the goal will be on cooldown before it can be used again</span>
	<span class="token property">&quot;sound_delay_min&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">//Interval in which a sound will play</span>
	<span class="token property">&quot;sound_delay_max&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token comment">//Interval in which a sound will play</span>
	<span class="token property">&quot;can_work_in_rain&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token property">&quot;work_in_rain_tolerance&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">//How much entity would work in rain before stopping if  &quot;can_work_in_rain&quot;: false</span>
	<span class="token property">&quot;on_arrival&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//What events to trigger when entity arrives to its job site</span>
		<span class="token property">&quot;event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;minecraft:resupply_trades&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;self&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="gathering" tabindex="-1">Gathering <a class="header-anchor" href="#gathering" aria-hidden="true">#</a></h3><p>Allowing the entity to gather. Requires &quot;dweller_role&quot; set to be &quot;inhabitant&quot;.</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:behavior.mingle&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">//</span>
  <span class="token property">&quot;speed_multiplier&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">//Speed when move to the gathering</span>
  <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">//How long the entity will gather with other</span>
  <span class="token property">&quot;cooldown_time&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">//Time in seconds the mob has to wait before using the goal again</span>
  <span class="token property">&quot;mingle_partner_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my:custom_entity&quot;</span><span class="token punctuation">,</span> <span class="token comment">//Must be the same entity identifier! if not, then the other entity will also need this behavior otherwise it won&#39;t worked</span>
  <span class="token property">&quot;mingle_distance&quot;</span><span class="token operator">:</span> <span class="token number">2.0</span> <span class="token comment">//Must be the same value if the mingle set for different entity!</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="scheduler" tabindex="-1">Scheduler <a class="header-anchor" href="#scheduler" aria-hidden="true">#</a></h3><p>Now you know everything about needed mechanic, let&#39;s try to put all of this together in &quot;minecraft:scheduler&quot; First let&#39;s do something simple: Put sleep behavior in new component group then put work behavior in component group work like this.</p>`,6),T=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;component_groups&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;work_schedule&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//this is the component group for work</span>
        <span class="token property">&quot;minecraft:behavior.work&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//this is the component for work</span>
            <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
            <span class="token property">&quot;active_time&quot;</span><span class="token operator">:</span><span class="token number">250</span><span class="token punctuation">,</span>
            <span class="token property">&quot;speed_multiplier&quot;</span><span class="token operator">:</span><span class="token number">0.5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;goal_cooldown&quot;</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sound_delay_min&quot;</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sound_delay_max&quot;</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span>
            <span class="token property">&quot;can_work_in_rain&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">&quot;work_in_rain_tolerance&quot;</span><span class="token operator">:</span><span class="token number">1000</span><span class="token punctuation">,</span>
            <span class="token property">&quot;on_arrival&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;minecraft:resupply_trades&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token string">&quot;self&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bed_schedule&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//this is the component group for sleep</span>
        <span class="token property">&quot;minecraft:behavior.sleep&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//this is the component for sleep</span>
            <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
            <span class="token property">&quot;goal_radius&quot;</span><span class="token operator">:</span><span class="token number">1.5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;speed_multiplier&quot;</span><span class="token operator">:</span><span class="token number">0.6</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sleep_collider_height&quot;</span><span class="token operator">:</span><span class="token number">0.3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sleep_collider_width&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sleep_y_offset&quot;</span><span class="token operator">:</span><span class="token number">0.6</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timeout_cooldown&quot;</span><span class="token operator">:</span><span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gather_schedule&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//this is the component group for gather</span>
        <span class="token property">&quot;minecraft:behavior.mingle&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//this is the component for gather</span>
            <span class="token property">&quot;priority&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;speed_multiplier&quot;</span><span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cooldown_time&quot;</span><span class="token operator">:</span><span class="token number">10.0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">30.0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;mingle_dist&quot;</span><span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;mingle_partner_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my:mob&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>Next, try to make your entities sleep whole day then work only at night The put the code in components</p><p>Next, try to make your entities sleep whole day after gathering then work only at night Then put the code in components.</p><p>If you put the schedule in component group then you need to set the events &quot;minecraft:entity_spawned&quot; to add the component group.</p><p>In components It looks something like this:</p>`,5),A=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;minecraft:scheduler&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;min_delay_secs&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//min delay before the event started</span>
    <span class="token property">&quot;max_delay_secs&quot;</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">//max delay before the event started</span>
    <span class="token property">&quot;scheduled_events&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;filters&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;all_of&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span><span class="token string">&quot;hourly_clock_time&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span><span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token number">0</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span><span class="token string">&quot;hourly_clock_time&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span><span class="token string">&quot;&lt;&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token number">12000</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;sleep&quot;</span> <span class="token comment">//this mean the entity will start the event &quot;sleep&quot; when time is same or more than 0(morning) and less than 12000(evening)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;filters&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;all_of&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span><span class="token string">&quot;hourly_clock_time&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span><span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token number">12000</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span><span class="token string">&quot;hourly_clock_time&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span><span class="token string">&quot;&lt;&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token number">20000</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;work&quot;</span> <span class="token comment">//this mean the entity will start the event &quot;work&quot; when time is same or more than 12000(evening) and less than 21000(between midnight and next morning)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;filters&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;all_of&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span><span class="token string">&quot;hourly_clock_time&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span><span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token number">21000</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;test&quot;</span><span class="token operator">:</span><span class="token string">&quot;hourly_clock_time&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;operator&quot;</span><span class="token operator">:</span><span class="token string">&quot;&lt;&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token number">24000</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;event&quot;</span><span class="token operator">:</span><span class="token string">&quot;gather&quot;</span> <span class="token comment">//this mean the entity will start the event &quot;gather&quot; when time is same or more than 21000(between midnight and next morning) and less than 24000(morning)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><p>The events section looks something like this:</p>`,2),S=a(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;events&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;work&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//event that started using the scheduler</span>
        <span class="token property">&quot;remove&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;component_groups&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;bed_schedule&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;gather_schedule&quot;</span> <span class="token comment">//component groups that removed when the event started</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;add&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;component_groups&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;work_schedule&quot;</span> <span class="token comment">//component groups that added when the event started</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sleep&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//event that started using the scheduler</span>
        <span class="token property">&quot;remove&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;component_groups&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;work_schedule&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;gather_schedule&quot;</span> <span class="token comment">//component groups that removed when the event started</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;add&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;component_groups&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;bed_schedule&quot;</span> <span class="token comment">//component groups that added when the event started</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gather&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//event that started using the scheduler</span>
        <span class="token property">&quot;remove&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;component_groups&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;work_schedule&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;bed_schedule&quot;</span> <span class="token comment">//component groups that removed when the event started</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;add&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;component_groups&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token string">&quot;gather_schedule&quot;</span> <span class="token comment">//component groups that added when the event started</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>Open your world spawn you custom entity then put bed and bell, you should see green particle.</p><p>Your entity will sleep from morning to evening then work all night. Use /time set 6000(noon) or /time set 18000(midnight).</p><p>Based on &quot;preferred_profession&quot;, when the entity work it will move to the claimed job site.</p><p>Always remember that sleeping, working, gathering doesn&#39;t properly working without the scheduler</p><h2 id="other-behavior" tabindex="-1">Other Behavior <a class="header-anchor" href="#other-behavior" aria-hidden="true">#</a></h2><p>All of this is useable by custom entities: <code>&quot;minecraft:behavior.move_to_village&quot;</code> is used by Pillager this may keep the entity to stay in the village. <code>&quot;minecraft:behavior.stroll_towards_village&quot;</code> is used by fox to seach a village and go there. <code>&quot;minecraft:behavior.inspect_bookshelf&quot;</code> used by librarian villager allows an entity to look at and inspect a bookshelf. <code>&quot;minecraft:behavior.explore_outskirts&quot;</code> allowing the entity to explore beyond the bounds of village(use schedule and component group to keep the entity return to the village) <code>&quot;minecraft:behavior.defend_village_target&quot;</code> only use this on melee attack. Ranged attack can accidentally shoot any entity with inhabitant dwelling role making the ranged entity attack each other.</p><p>All of this is useable by custom entities and have relation to the village or the villager:</p><table><thead><tr><th>Behavior</th><th>Uses</th><th>Note</th></tr></thead><tbody><tr><td><code>&quot;minecraft:behavior.defend_village_target&quot;</code></td><td>Allowing the entity to attack other entity that hurt the entity who had the &quot;dweller_role&quot;: &quot;inhabitant&quot;.</td><td>only use this on melee entity. Ranged entity can accidentally shoot and hurt any entity with &quot;dweller_role&quot;: &quot;inhabitant&quot;, making the other ranged entity attack the ranged entity that accidentally shoot or hurt it.</td></tr><tr><td><code>&quot;minecraft:behavior.explore_outskirts&quot;</code></td><td>Allowing the entity to explore beyond the bounds of village.</td><td>Use scheduler, otherwise the entity will staying outside the village.</td></tr><tr><td><code>&quot;minecraft:behavior.hide&quot;</code></td><td>Is used by villager to hide and stay at defined POI.</td><td>Currently, there is no documentation for the POI type thus I recommended not to change it other than &quot;poi_type&quot;: &quot;bed&quot;.</td></tr><tr><td><code>&quot;minecraft:behavior.inspect_bookshelf&quot;</code></td><td>Used by librarian villager allows an entity to look at and inspect a bookshelf.</td><td>Use scheduler, otherwise the entity will staying near the bookshelf.</td></tr><tr><td><code>&quot;minecraft:behavior.move_to_village&quot;</code></td><td>Used by Illager and also witch allows an entity to travel to a random x,y,z coordinate in a village.</td><td>-</td></tr><tr><td><code>&quot;minecraft:behavior.nap&quot;</code></td><td>Used by Fox to take a nap.</td><td>Similar with sleep but offer more flexibility also had built-in wake sytem by detecting specific entity.</td></tr></tbody></table>`,9);function I(C,V,P,x,N,j){const n=p("CodeHeader");return l(),o("div",null,[u,i,k,s(n),b,s(n),m,s(n),d,s(n),q,s(n),h,s(n),_,s(n),y,s(n),g,s(n),v,s(n),w,s(n),f,s(n),T,s(n),A,s(n),S])}var D=t(c,[["render",I]]);export{E as __pageData,D as default};
