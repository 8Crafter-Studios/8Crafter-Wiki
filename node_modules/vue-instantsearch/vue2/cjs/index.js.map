{"version":3,"file":"index.js","sources":["../../src/util/suit.js","../../src/mixins/suit.js","../../src/util/polyfills.js","../../src/util/vue-compat/index-vue2.js","../../src/util/warn.js","../../src/mixins/widget.js","../../src/mixins/panel.js","../../src/components/Configure.js","../../src/components/ConfigureRelatedItems.js","../../src/util/unescape.js","../../src/util/parseAlgoliaHit.js","../../src/util/vue-compat/Highlighter/Highlighter-vue2.vue","../../src/components/Hits.js","../../src/components/Index.js","../../src/util/createInstantSearchComponent.js","../../src/components/InstantSearch.js","../../src/components/InstantSearchSsr.js","../../src/components/QueryRuleContext.js","../../src/components/DynamicWidgets.js","../../src/components/ExperimentalDynamicWidgets.js","../../src/plugin.js","../../src/util/createServerRootMixin.js"],"sourcesContent":["/**\n * Create class names like ais-widgetName-element--modifier\n *\n * @param {string} widgetName first part\n * @param {string} element part separated by -\n * @param {string} modifier final part, separated by --\n *\n * @returns {string} the composed class name\n */\nexport default function suit(widgetName, element, modifier) {\n  if (!widgetName) {\n    throw new Error('You need to provide `widgetName` in your data');\n  }\n\n  const elements = [`ais-${widgetName}`];\n\n  if (element) {\n    elements.push(`-${element}`);\n  }\n\n  if (modifier) {\n    elements.push(`--${modifier}`);\n  }\n\n  return elements.join('');\n}\n","import suit from '../util/suit';\n\nexport const createSuitMixin = ({ name }) => ({\n  props: {\n    classNames: {\n      type: Object,\n      default: undefined,\n    },\n  },\n  methods: {\n    suit(element, modifier) {\n      const className = suit(name, element, modifier);\n      const userClassName = this.classNames && this.classNames[className];\n      if (userClassName) {\n        return [className, userClassName].join(' ');\n      }\n      return className;\n    },\n  },\n});\n","/* eslint-disable eslint-comments/no-unlimited-disable */\n/* eslint-disable */\n\n// source: @babel/plugin-proposal-object-rest-spread@7.2.0\n// prettier-ignore\nexport function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\n// source: @babel/plugin-proposal-object-rest-spread@7.2.0\n// prettier-ignore\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n","import Vue from 'vue';\n\nconst isVue2 = true;\nconst isVue3 = false;\nconst Vue2 = Vue;\nconst version = Vue.version;\n\nexport { Vue, Vue2, isVue2, isVue3, version };\n\nconst augmentCreateElement =\n  (createElement) =>\n  (tag, propsWithClassName = {}, ...children) => {\n    const { className, ...props } = propsWithClassName;\n\n    if (typeof tag === 'function') {\n      return tag(\n        Object.assign(props, {\n          class: className || props.class,\n          children: children.length > 0 ? children : undefined,\n        })\n      );\n    }\n\n    if (typeof tag === 'string') {\n      const { on, style, attrs, domProps, nativeOn, key, ...rest } = props;\n      return createElement(\n        tag,\n        {\n          class: className || props.class,\n          attrs: attrs || rest,\n          on,\n          nativeOn,\n          style,\n          domProps,\n          key,\n        },\n        children\n      );\n    }\n\n    return createElement(\n      tag,\n      Object.assign(props, { class: className || props.class }),\n      children\n    );\n  };\n\nexport function renderCompat(fn) {\n  return function (createElement) {\n    return fn.call(this, augmentCreateElement(createElement));\n  };\n}\n\nexport function getDefaultSlot(component) {\n  return component.$slots.default;\n}\n\nexport function getScopedSlot(component, name) {\n  return (component.$scopedSlots || {})[name];\n}\n\n// Vue3-only APIs\nexport const computed = undefined;\nexport const createApp = undefined;\nexport const createSSRApp = undefined;\nexport const createRef = undefined;\nexport const customRef = undefined;\nexport const defineAsyncComponent = undefined;\nexport const defineComponent = undefined;\nexport const del = undefined;\nexport const getCurrentInstance = undefined;\nexport const h = undefined;\nexport const inject = undefined;\nexport const isRaw = undefined;\nexport const isReactive = undefined;\nexport const isReadonly = undefined;\nexport const isRef = undefined;\nexport const markRaw = undefined;\nexport const nextTick = undefined;\nexport const onActivated = undefined;\nexport const onBeforeMount = undefined;\nexport const onBeforeUnmount = undefined;\nexport const onBeforeUpdate = undefined;\nexport const onDeactivated = undefined;\nexport const onErrorCaptured = undefined;\nexport const onMounted = undefined;\nexport const onServerPrefetch = undefined;\nexport const onUnmounted = undefined;\nexport const onUpdated = undefined;\nexport const provide = undefined;\nexport const proxyRefs = undefined;\nexport const reactive = undefined;\nexport const readonly = undefined;\nexport const ref = undefined;\nexport const set = undefined;\nexport const shallowReactive = undefined;\nexport const shallowReadonly = undefined;\nexport const shallowRef = undefined;\nexport const toRaw = undefined;\nexport const toRef = undefined;\nexport const toRefs = undefined;\nexport const triggerRef = undefined;\nexport const unref = undefined;\nexport const useCSSModule = undefined;\nexport const useCssModule = undefined;\nexport const warn = undefined;\nexport const watch = undefined;\nexport const watchEffect = undefined;\n","const cache = new Set();\n\nexport function warn(message) {\n  if (cache.has(message)) return;\n  cache.add(message);\n  // eslint-disable-next-line no-console\n  console.warn(message);\n}\n","import { _objectSpread } from '../util/polyfills';\nimport { isVue3 } from '../util/vue-compat';\nimport { warn } from '../util/warn';\n\nexport const createWidgetMixin = (\n  { connector } = {},\n  additionalProperties = {}\n) => ({\n  inject: {\n    instantSearchInstance: {\n      from: '$_ais_instantSearchInstance',\n      default() {\n        const tag = this.$options._componentTag;\n        throw new TypeError(\n          `It looks like you forgot to wrap your Algolia search component \"<${tag}>\" inside of an \"<ais-instant-search>\" component.`\n        );\n      },\n    },\n    getParentIndex: {\n      from: '$_ais_getParentIndex',\n      default() {\n        return () => this.instantSearchInstance.mainIndex;\n      },\n    },\n  },\n  data() {\n    return {\n      state: null,\n    };\n  },\n  created() {\n    if (typeof connector === 'function') {\n      this.factory = connector(this.updateState, () => {});\n      this.widget = _objectSpread(\n        this.factory(this.widgetParams),\n        additionalProperties\n      );\n      this.getParentIndex().addWidgets([this.widget]);\n\n      if (\n        this.instantSearchInstance._initialResults &&\n        !this.instantSearchInstance.started\n      ) {\n        if (typeof this.instantSearchInstance.__forceRender !== 'function') {\n          throw new Error(\n            'You are using server side rendering with <ais-instant-search> instead of <ais-instant-search-ssr>.'\n          );\n        }\n        this.instantSearchInstance.__forceRender(\n          this.widget,\n          this.getParentIndex()\n        );\n      }\n    } else if (connector !== true) {\n      warn(\n        `You are using the InstantSearch widget mixin, but didn't provide a connector.\nWhile this is technically possible, and will give you access to the Helper,\nit's not the recommended way of making custom components.\n\nIf you want to disable this message, pass { connector: true } to the mixin.\n\nRead more on using connectors: https://alg.li/vue-custom`\n      );\n    }\n  },\n  [isVue3 ? 'beforeUnmount' : 'beforeDestroy']() {\n    if (this.widget) {\n      this.getParentIndex().removeWidgets([this.widget]);\n    }\n  },\n  watch: {\n    widgetParams: {\n      handler(nextWidgetParams) {\n        this.state = null;\n        this.getParentIndex().removeWidgets([this.widget]);\n        this.widget = _objectSpread(\n          this.factory(nextWidgetParams),\n          additionalProperties\n        );\n        this.getParentIndex().addWidgets([this.widget]);\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    updateState(state = {}, isFirstRender) {\n      if (!isFirstRender) {\n        // Avoid updating the state on first render\n        // otherwise there will be a flash of placeholder data\n        this.state = state;\n      }\n    },\n  },\n});\n","import mitt from 'mitt';\n\nimport { isVue3 } from '../util/vue-compat';\n\nexport const PANEL_EMITTER_NAMESPACE = 'instantSearchPanelEmitter';\nexport const PANEL_CHANGE_EVENT = 'PANEL_CHANGE_EVENT';\n\nexport const createPanelProviderMixin = () => ({\n  props: {\n    emitter: {\n      type: Object,\n      required: false,\n      default() {\n        return mitt();\n      },\n    },\n  },\n  provide() {\n    return {\n      [PANEL_EMITTER_NAMESPACE]: this.emitter,\n    };\n  },\n  data() {\n    return {\n      canRefine: true,\n    };\n  },\n  created() {\n    this.emitter.on(PANEL_CHANGE_EVENT, (value) => {\n      this.updateCanRefine(value);\n    });\n  },\n  [isVue3 ? 'beforeUnmount' : 'beforeDestroy']() {\n    this.emitter.all.clear();\n  },\n  methods: {\n    updateCanRefine(value) {\n      this.canRefine = value;\n    },\n  },\n});\n\nexport const createPanelConsumerMixin = ({\n  mapStateToCanRefine = (state) => Boolean(state.canRefine),\n} = {}) => ({\n  inject: {\n    emitter: {\n      from: PANEL_EMITTER_NAMESPACE,\n      default() {\n        return {\n          emit: () => {},\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      state: null,\n      hasAlreadyEmitted: false,\n    };\n  },\n  watch: {\n    state: {\n      immediate: true,\n      handler(nextState, previousState) {\n        if (!nextState) {\n          return;\n        }\n\n        const previousCanRefine = mapStateToCanRefine(previousState || {});\n        const nextCanRefine = mapStateToCanRefine(nextState);\n\n        if (!this.hasAlreadyEmitted || previousCanRefine !== nextCanRefine) {\n          this.emitter.emit(PANEL_CHANGE_EVENT, nextCanRefine);\n          this.hasAlreadyEmitted = true;\n        }\n      },\n    },\n  },\n});\n","import { connectConfigure } from 'instantsearch.js/es/connectors';\n\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { isVue3, renderCompat } from '../util/vue-compat';\n\nexport default {\n  inheritAttrs: false,\n  name: 'AisConfigure',\n  mixins: [\n    createSuitMixin({ name: 'Configure' }),\n    createWidgetMixin(\n      {\n        connector: connectConfigure,\n      },\n      {\n        $$widgetType: 'ais.configure',\n      }\n    ),\n  ],\n  computed: {\n    widgetParams() {\n      return {\n        searchParameters: Object.assign({}, this.$attrs),\n      };\n    },\n  },\n  render: renderCompat(function (h) {\n    const slot = isVue3 ? this.$slots.default : this.$scopedSlots.default;\n\n    if (!this.state || !slot) {\n      return null;\n    }\n\n    return h(\n      'div',\n      {\n        class: this.suit(),\n      },\n      [\n        slot({\n          refine: this.state.refine,\n          searchParameters: this.state.widgetParams.searchParameters,\n        }),\n      ]\n    );\n  }),\n};\n","import { EXPERIMENTAL_connectConfigureRelatedItems } from 'instantsearch.js/es/connectors';\n\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  inheritAttrs: false,\n  name: 'AisExperimentalConfigureRelatedItems',\n  mixins: [\n    createWidgetMixin(\n      {\n        connector: EXPERIMENTAL_connectConfigureRelatedItems,\n      },\n      {\n        $$widgetType: 'ais.configureRelatedItems',\n      }\n    ),\n  ],\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    matchingPatterns: {\n      type: Object,\n      required: true,\n    },\n    transformSearchParameters: {\n      type: Function,\n      required: false,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        hit: this.hit,\n        matchingPatterns: this.matchingPatterns,\n        transformSearchParameters: this.transformSearchParameters,\n      };\n    },\n  },\n  render() {\n    return null;\n  },\n};\n","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/unescape.js\n */\n\n/** Used to map HTML entities to characters. */\nconst htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\",\n};\n\n/** Used to match HTML entities and HTML characters. */\nconst reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g;\nconst reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nexport function unescape(string) {\n  return string && reHasEscapedHtml.test(string)\n    ? string.replace(reEscapedHtml, (character) => htmlUnescapes[character])\n    : string;\n}\n","// copied from React InstantSearch\nimport { getPropertyByPath } from 'instantsearch.js/es/lib/utils';\n\nimport { unescape } from '../util/unescape';\n\nconst TAG_PLACEHOLDER = {\n  highlightPreTag: '__ais-highlight__',\n  highlightPostTag: '__/ais-highlight__',\n};\n\n/**\n * Parses an highlighted attribute into an array of objects with the string value, and\n * a boolean that indicated if this part is highlighted.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightedValue - highlighted attribute as returned by Algolia highlight feature\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\nfunction parseHighlightedAttribute({ preTag, postTag, highlightedValue = '' }) {\n  const splitByPreTag = highlightedValue.split(preTag);\n  const firstValue = splitByPreTag.shift();\n  const elements =\n    firstValue === '' ? [] : [{ value: firstValue, isHighlighted: false }];\n\n  if (postTag === preTag) {\n    let isHighlighted = true;\n    splitByPreTag.forEach((split) => {\n      elements.push({ value: split, isHighlighted });\n      isHighlighted = !isHighlighted;\n    });\n  } else {\n    splitByPreTag.forEach((split) => {\n      const splitByPostTag = split.split(postTag);\n\n      elements.push({\n        value: splitByPostTag[0],\n        isHighlighted: true,\n      });\n\n      if (splitByPostTag[1] !== '') {\n        elements.push({\n          // Vue removes nodes which are just a single space (vuejs/vue#9208),\n          // we replace this by two spaces, which does not have an impact,\n          // unless someone would have `white-space: pre` on the highlights\n          value: splitByPostTag[1] === ' ' ? '  ' : splitByPostTag[1],\n          isHighlighted: false,\n        });\n      }\n    });\n  }\n\n  return elements;\n}\n\n/**\n * Find an highlighted attribute given an `attribute` and an `highlightProperty`, parses it,\n * and provided an array of objects with the string value and a boolean if this\n * value is highlighted.\n *\n * In order to use this feature, highlight must be activated in the configuration of\n * the index. The `preTag` and `postTag` attributes are respectively highlightPreTag and\n * highlightPostTag in Algolia configuration.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightProperty - the property that contains the highlight structure in the results\n * @param {string} attribute - the highlighted attribute to look for\n * @param {object} hit - the actual hit returned by Algolia.\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\nexport function parseAlgoliaHit({\n  preTag = TAG_PLACEHOLDER.highlightPreTag,\n  postTag = TAG_PLACEHOLDER.highlightPostTag,\n  highlightProperty,\n  attribute,\n  hit,\n}) {\n  if (!hit) throw new Error('`hit`, the matching record, must be provided');\n\n  const highlightObject =\n    getPropertyByPath(hit[highlightProperty], attribute) || {};\n\n  if (Array.isArray(highlightObject)) {\n    return highlightObject.map((item) =>\n      parseHighlightedAttribute({\n        preTag,\n        postTag,\n        highlightedValue: unescape(item.value),\n      })\n    );\n  }\n\n  return parseHighlightedAttribute({\n    preTag,\n    postTag,\n    highlightedValue: unescape(highlightObject.value),\n  });\n}\n","<template>\n  <span :class=\"suit()\">\n    <component\n      v-for=\"({ value, isHighlighted }, index) in parsedHighlights\"\n      :class=\"[isHighlighted && suit('highlighted')]\"\n      :key=\"index\"\n      :is=\"isHighlighted ? highlightedTagName : TextNode\"\n      >{{ value }}</component\n    >\n  </span>\n</template>\n\n<script>\nimport { parseAlgoliaHit } from '../../parseAlgoliaHit';\n\nconst TextNode = {\n  render() {\n    return this.$slots.default;\n  },\n};\n\nexport default {\n  name: 'AisHighlighter',\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    attribute: {\n      type: String,\n      required: true,\n    },\n    highlightedTagName: {\n      type: String,\n      default: 'mark',\n    },\n    suit: {\n      type: Function,\n      required: true,\n    },\n    highlightProperty: {\n      type: String,\n      required: true,\n    },\n    preTag: {\n      type: String,\n      required: true,\n    },\n    postTag: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return { TextNode };\n  },\n  computed: {\n    parsedHighlights() {\n      return parseAlgoliaHit({\n        attribute: this.attribute,\n        hit: this.hit,\n        highlightProperty: this.highlightProperty,\n        preTag: this.preTag,\n        postTag: this.postTag,\n      });\n    },\n  },\n};\n</script>\n","import { createHitsComponent } from 'instantsearch-ui-components';\nimport { connectHitsWithInsights } from 'instantsearch.js/es/connectors';\n\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { getScopedSlot, renderCompat } from '../util/vue-compat';\n\nexport default {\n  name: 'AisHits',\n  mixins: [\n    createWidgetMixin(\n      {\n        connector: connectHitsWithInsights,\n      },\n      {\n        $$widgetType: 'ais.hits',\n      }\n    ),\n    createSuitMixin({ name: 'Hits' }),\n  ],\n  props: {\n    showBanner: {\n      type: Boolean,\n      default: true,\n    },\n    escapeHTML: {\n      type: Boolean,\n      default: true,\n    },\n    transformItems: {\n      type: Function,\n      default: undefined,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        showBanner: this.showBanner,\n        escapeHTML: this.escapeHTML,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  render: renderCompat(function (h) {\n    if (!this.state) {\n      return null;\n    }\n\n    const defaultSlot = getScopedSlot(this, 'default');\n    const itemSlot = getScopedSlot(this, 'item');\n    const bannerSlot = getScopedSlot(this, 'banner');\n\n    const itemComponent = ({\n      hit,\n      index,\n      onClick,\n      onAuxClick,\n      // We don't want to pass the Preact key as a prop\n      key: _key,\n      ...rootProps\n    }) => {\n      return h(\n        'li',\n        {\n          key: hit.objectID,\n          attrs: rootProps,\n          on: {\n            click: onClick,\n            auxclick: onAuxClick,\n          },\n        },\n        [\n          (itemSlot &&\n            itemSlot({\n              item: hit,\n              index,\n              insights: this.state.insights,\n              sendEvent: this.state.sendEvent,\n            })) ||\n            `objectID: ${hit.objectID}, index: ${index}`,\n        ]\n      );\n    };\n\n    // We only want to render the default slot\n    // if no other slots are defined\n    if (!itemSlot && !bannerSlot && defaultSlot) {\n      return h(\n        'div',\n        {\n          attrs: {\n            class: this.suit(),\n          },\n        },\n        [\n          defaultSlot({\n            banner: this.state.banner,\n            items: this.state.items,\n            insights: this.state.insights,\n            sendEvent: this.state.sendEvent,\n          }),\n        ]\n      );\n    }\n\n    return h(createHitsComponent({ createElement: h }), {\n      hits: this.state.items,\n      itemComponent,\n      banner: this.showBanner ? this.state.banner : undefined,\n      bannerComponent: bannerSlot,\n      sendEvent: this.state.sendEvent,\n      classNames: this.classNames && {\n        root: this.classNames['ais-Hits'],\n        list: this.classNames['ais-Hits-list'],\n        item: this.classNames['ais-Hits-item'],\n        bannerRoot: this.classNames['ais-Hits-banner'],\n        bannerImage: this.classNames['ais-Hits-banner-image'],\n        bannerLink: this.classNames['ais-Hits-banner-link'],\n      },\n    });\n  }),\n};\n","import indexWidget from 'instantsearch.js/es/widgets/index/index';\n\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { renderCompat, getDefaultSlot } from '../util/vue-compat';\n\n// wrapped in a dummy function, since indexWidget doesn't render\nconst connectIndex = () => indexWidget;\n\nexport default {\n  name: 'AisIndex',\n  mixins: [\n    createSuitMixin({ name: 'Index' }),\n    createWidgetMixin(\n      { connector: connectIndex },\n      {\n        $$widgetType: 'ais.index',\n      }\n    ),\n  ],\n  provide() {\n    return {\n      // The widget is created & registered by widgetMixin, accessor is needed\n      // because provide is not reactive.\n      $_ais_getParentIndex: () => this.widget,\n    };\n  },\n  props: {\n    indexName: {\n      type: String,\n      required: true,\n    },\n    indexId: {\n      type: String,\n      required: false,\n    },\n  },\n  render: renderCompat(function (h) {\n    return h('div', {}, getDefaultSlot(this));\n  }),\n  computed: {\n    widgetParams() {\n      return {\n        indexName: this.indexName,\n        indexId: this.indexId,\n      };\n    },\n  },\n};\n","import { INSTANTSEARCH_FUTURE_DEFAULTS } from 'instantsearch.js/es/lib/InstantSearch';\n\nimport { version } from '../../package.json'; // rollup does pick only what needed from json\nimport { createSuitMixin } from '../mixins/suit';\n\nimport { _objectSpread } from './polyfills';\nimport { isVue3, version as vueVersion } from './vue-compat';\nimport { warn } from './warn';\n\nexport const createInstantSearchComponent = (component) =>\n  _objectSpread(\n    {\n      mixins: [createSuitMixin({ name: 'InstantSearch' })],\n      provide() {\n        return {\n          $_ais_instantSearchInstance: this.instantSearchInstance,\n        };\n      },\n      watch: {\n        searchClient(searchClient) {\n          warn(\n            false,\n            'The `search-client` prop of `<ais-instant-search>` changed between renders, which may cause more search requests than necessary. If this is an unwanted behavior, please provide a stable reference: https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-search-client'\n          );\n\n          this.instantSearchInstance.helper.setClient(searchClient).search();\n        },\n        indexName(indexName) {\n          this.instantSearchInstance.helper.setIndex(indexName || '').search();\n        },\n        stalledSearchDelay(stalledSearchDelay) {\n          // private InstantSearch.js API:\n          this.instantSearchInstance._stalledSearchDelay = stalledSearchDelay;\n        },\n        routing() {\n          throw new Error(\n            'routing configuration can not be changed dynamically at this point.' +\n              '\\n\\n' +\n              'Please open a new issue: https://github.com/algolia/instantsearch/discussions/new?category=ideas&labels=triage%2cLibrary%3A+Vue+InstantSearch&title=Feature%20request%3A%20dynamic%20props'\n          );\n        },\n        onStateChange() {\n          throw new Error(\n            'onStateChange configuration can not be changed dynamically at this point.' +\n              '\\n\\n' +\n              'Please open a new issue: https://github.com/algolia/instantsearch/discussions/new?category=ideas&labels=triage%2cLibrary%3A+Vue+InstantSearch&title=Feature%20request%3A%20dynamic%20props'\n          );\n        },\n        searchFunction(searchFunction) {\n          // private InstantSearch.js API:\n          this.instantSearchInstance._searchFunction = searchFunction;\n        },\n        middlewares: {\n          immediate: true,\n          handler(next, prev) {\n            (prev || [])\n              .filter((middleware) => (next || []).indexOf(middleware) === -1)\n              .forEach((middlewareToRemove) => {\n                this.instantSearchInstance.unuse(middlewareToRemove);\n              });\n\n            (next || [])\n              .filter((middleware) => (prev || []).indexOf(middleware) === -1)\n              .forEach((middlewareToAdd) => {\n                this.instantSearchInstance.use(middlewareToAdd);\n              });\n          },\n        },\n        future(future) {\n          this.instantSearchInstance.future = Object.assign(\n            INSTANTSEARCH_FUTURE_DEFAULTS,\n            future\n          );\n        },\n      },\n      created() {\n        const searchClient = this.instantSearchInstance.client;\n        if (typeof searchClient.addAlgoliaAgent === 'function') {\n          searchClient.addAlgoliaAgent(`Vue (${vueVersion})`);\n          searchClient.addAlgoliaAgent(`Vue InstantSearch (${version})`);\n        }\n      },\n      mounted() {\n        // from the documentation: https://vuejs.org/v2/api/#mounted\n        // \"Note that mounted does not guarantee that all child components have also been mounted. If you want to\n        // wait until the entire view has been rendered, you can use vm.$nextTick inside of mounted\"\n        this.$nextTick(() => {\n          if (!this.instantSearchInstance.started) {\n            this.instantSearchInstance.start();\n          }\n        });\n      },\n      [isVue3 ? 'beforeUnmount' : 'beforeDestroy']() {\n        if (this.instantSearchInstance.started) {\n          this.instantSearchInstance.dispose();\n        }\n\n        // a hydrated instance will no longer be hydrated once disposed, and starts from scratch\n        this.instantSearchInstance.__initialSearchResults = undefined;\n      },\n    },\n    component\n  );\n","import instantsearch from 'instantsearch.js/es';\n\nimport { createInstantSearchComponent } from '../util/createInstantSearchComponent';\nimport { renderCompat, getDefaultSlot } from '../util/vue-compat';\nimport { warn } from '../util/warn';\n\nconst oldApiWarning = `Vue InstantSearch: You used the prop api-key or app-id.\nThese have been replaced by search-client.\n\nSee more info here: https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-search-client`;\n\nexport default createInstantSearchComponent({\n  name: 'AisInstantSearch',\n  props: {\n    searchClient: {\n      type: Object,\n      required: true,\n    },\n    insightsClient: {\n      type: Function,\n      default: undefined,\n    },\n    indexName: {\n      type: String,\n      required: true,\n    },\n    routing: {\n      default: undefined,\n      validator(value) {\n        if (\n          typeof value === 'boolean' ||\n          (!value.router && !value.stateMapping)\n        ) {\n          warn(\n            'The `routing` option expects an object with `router` and/or `stateMapping`.\\n\\nSee https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-routing'\n          );\n          return false;\n        }\n        return true;\n      },\n    },\n    insights: {\n      default: undefined,\n      validator(value) {\n        return (\n          typeof value === 'undefined' ||\n          typeof value === 'boolean' ||\n          typeof value === 'object'\n        );\n      },\n    },\n    stalledSearchDelay: {\n      type: Number,\n      default: undefined,\n    },\n    searchFunction: {\n      type: Function,\n      default: undefined,\n    },\n    onStateChange: {\n      type: Function,\n      default: undefined,\n    },\n    initialUiState: {\n      type: Object,\n      default: undefined,\n    },\n    apiKey: {\n      type: String,\n      default: undefined,\n      validator(value) {\n        if (value) {\n          warn(oldApiWarning);\n        }\n        return false;\n      },\n    },\n    appId: {\n      type: String,\n      default: undefined,\n      validator(value) {\n        if (value) {\n          warn(oldApiWarning);\n        }\n        return false;\n      },\n    },\n    middlewares: {\n      type: Array,\n      default: null,\n    },\n    future: {\n      type: Object,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      instantSearchInstance: instantsearch({\n        searchClient: this.searchClient,\n        insightsClient: this.insightsClient,\n        insights: this.insights,\n        indexName: this.indexName,\n        routing: this.routing,\n        stalledSearchDelay: this.stalledSearchDelay,\n        searchFunction: this.searchFunction,\n        onStateChange: this.onStateChange,\n        initialUiState: this.initialUiState,\n        future: this.future,\n      }),\n    };\n  },\n  render: renderCompat(function (h) {\n    return h(\n      'div',\n      {\n        class: {\n          [this.suit()]: true,\n          [this.suit('', 'ssr')]: false,\n        },\n      },\n      getDefaultSlot(this)\n    );\n  }),\n});\n","import { createInstantSearchComponent } from '../util/createInstantSearchComponent';\nimport { renderCompat, getDefaultSlot } from '../util/vue-compat';\n\nexport default createInstantSearchComponent({\n  name: 'AisInstantSearchSsr',\n  inject: {\n    $_ais_ssrInstantSearchInstance: {\n      default() {\n        throw new Error('`createServerRootMixin` is required when using SSR.');\n      },\n    },\n  },\n  data() {\n    return {\n      instantSearchInstance: this.$_ais_ssrInstantSearchInstance,\n    };\n  },\n  render: renderCompat(function (h) {\n    return h(\n      'div',\n      {\n        class: {\n          [this.suit()]: true,\n          [this.suit('', 'ssr')]: true,\n        },\n      },\n      getDefaultSlot(this)\n    );\n  }),\n});\n","import { connectQueryRules } from 'instantsearch.js/es/connectors';\n\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nexport default {\n  name: 'AisQueryRuleContext',\n  mixins: [\n    createSuitMixin({ name: 'QueryRuleContext' }),\n    createWidgetMixin(\n      {\n        connector: connectQueryRules,\n      },\n      {\n        $$widgetType: 'ais.queryRuleContext',\n      }\n    ),\n  ],\n  props: {\n    trackedFilters: {\n      type: Object,\n      required: true,\n    },\n    transformRuleContexts: {\n      type: Function,\n      required: false,\n      default: undefined,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        trackedFilters: this.trackedFilters,\n        transformRuleContexts: this.transformRuleContexts,\n      };\n    },\n  },\n  render() {\n    return null;\n  },\n};\n","import { connectDynamicWidgets } from 'instantsearch.js/es/connectors';\n\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { _objectSpread } from '../util/polyfills';\nimport { isVue3, renderCompat, getDefaultSlot } from '../util/vue-compat';\n\nfunction getWidgetAttribute(vnode) {\n  const props = isVue3\n    ? vnode.props\n    : vnode.componentOptions && vnode.componentOptions.propsData;\n  if (props) {\n    if (props.attribute) {\n      return props.attribute;\n    }\n    if (Array.isArray(props.attributes)) {\n      return props.attributes[0];\n    }\n  }\n\n  let children;\n  if (isVue3) {\n    children =\n      vnode.children && vnode.children.default && vnode.children.default();\n  } else {\n    children =\n      vnode.componentOptions && vnode.componentOptions.children\n        ? vnode.componentOptions.children\n        : vnode.children;\n  }\n\n  if (Array.isArray(children)) {\n    // return first child with a truthy attribute\n    return children.reduce(\n      (acc, curr) => acc || getWidgetAttribute(curr),\n      undefined\n    );\n  }\n\n  return undefined;\n}\n\nexport default {\n  name: 'AisDynamicWidgets',\n  mixins: [\n    createWidgetMixin(\n      {\n        connector: connectDynamicWidgets,\n      },\n      {\n        $$widgetType: 'ais.dynamicWidgets',\n      }\n    ),\n    createSuitMixin({ name: 'DynamicWidgets' }),\n  ],\n  props: {\n    transformItems: {\n      type: Function,\n      default: undefined,\n    },\n    facets: {\n      type: Array,\n      default: undefined,\n    },\n    maxValuesPerFacet: {\n      type: Number,\n      default: undefined,\n    },\n  },\n  render: renderCompat(function (h) {\n    const components = new Map();\n\n    (getDefaultSlot(this) || []).forEach((vnode) => {\n      const attribute = getWidgetAttribute(vnode);\n      if (attribute) {\n        components.set(\n          attribute,\n          h('div', { key: attribute, class: [this.suit('widget')] }, [vnode])\n        );\n      }\n    });\n\n    // by default, render everything, but hidden so that the routing doesn't disappear\n    if (!this.state) {\n      const allComponents = [];\n      components.forEach((component) => allComponents.push(component));\n\n      return h(\n        'div',\n        _objectSpread(\n          {\n            class: [this.suit()],\n          },\n          { attrs: { hidden: true } }\n        ),\n        allComponents\n      );\n    }\n\n    return h(\n      'div',\n      { class: [this.suit()] },\n      this.state.attributesToRender.map((attribute) =>\n        components.get(attribute)\n      )\n    );\n  }),\n  computed: {\n    widgetParams() {\n      return {\n        transformItems: this.transformItems,\n        facets: this.facets,\n        maxValuesPerFacet: this.maxValuesPerFacet,\n        // we do not pass \"widgets\" to the connector, since Vue is in charge of rendering\n        widgets: [],\n      };\n    },\n  },\n};\n","import { warn } from '../util/warn';\n\nimport AisDynamicWidgets from './DynamicWidgets';\n\n// @MAJOR remove this file\nexport default Object.assign({}, AisDynamicWidgets, {\n  name: 'AisExperimentalDynamicWidgets',\n  mounted() {\n    warn('Use AisDynamicWidgets instead of AisExperimentalDynamicWidgets.');\n  },\n});\n","/* eslint import/namespace: ['error', { allowComputed: true }]*/\n\nimport * as widgets from './widgets';\n\nexport const plugin = {\n  install(localVue) {\n    Object.keys(widgets).forEach((widgetName) => {\n      localVue.component(widgets[widgetName].name, widgets[widgetName]);\n    });\n  },\n};\n","import instantsearch from 'instantsearch.js/es';\nimport {\n  waitForResults,\n  getInitialResults,\n} from 'instantsearch.js/es/lib/server';\n\nimport { isVue3, isVue2, Vue2, createSSRApp } from './vue-compat';\nimport { warn } from './warn';\n\nfunction defaultCloneComponent(componentInstance, { mixins = [] } = {}) {\n  const options = {\n    serverPrefetch: undefined,\n    fetch: undefined,\n    _base: undefined,\n    name: 'ais-ssr-root-component',\n  };\n\n  let app;\n\n  if (isVue3) {\n    const appOptions = Object.assign({}, componentInstance.$options, options);\n    appOptions.mixins = [...mixins, ...(appOptions.mixins || [])];\n    app = createSSRApp(appOptions);\n    if (componentInstance.$router) {\n      app.use(componentInstance.$router);\n    }\n    if (componentInstance.$store) {\n      app.use(componentInstance.$store);\n    }\n    if (componentInstance.$i18n) {\n      app.use(componentInstance.$i18n);\n    }\n  } else {\n    // copy over global Vue APIs\n    options.router = componentInstance.$router;\n    options.store = componentInstance.$store;\n    options.i18n = componentInstance.$i18n;\n\n    const Extended = componentInstance.$vnode\n      ? componentInstance.$vnode.componentOptions.Ctor.extend(options)\n      : Vue2.component(\n          options.name,\n          Object.assign({}, componentInstance.$options, options)\n        );\n\n    app = new Extended({\n      propsData: componentInstance.$options.propsData,\n      mixins: [...mixins],\n    });\n  }\n\n  // https://stackoverflow.com/a/48195006/3185307\n  app.$slots = componentInstance.$slots;\n  app.$root = componentInstance.$root;\n  if (isVue2) {\n    app.$options.serverPrefetch = [];\n  }\n\n  return app;\n}\n\nfunction augmentInstantSearch(instantSearchOptions, cloneComponent) {\n  const search = instantsearch(instantSearchOptions);\n\n  let initialResults;\n\n  /**\n   * main API for SSR, called in serverPrefetch of a root component which contains instantsearch\n   * @param {Object} props the object including `component` and `renderToString`\n   * @param {Object} props.component the calling component's `this`\n   * @param {Function} props.renderToString the function to render componentInstance to string\n   * @returns {Promise} result of the search, to save for .hydrate\n   */\n  search.findResultsState = function ({ component, renderToString }) {\n    if (!renderToString) {\n      throw new Error(\n        'findResultsState requires `renderToString: (component) => Promise<string>` in the first argument.'\n      );\n    }\n\n    let app;\n    let instance;\n\n    return Promise.resolve()\n      .then(() => {\n        app = cloneComponent(component, {\n          mixins: [\n            {\n              beforeCreate() {\n                const descriptor = Object.getOwnPropertyDescriptor(\n                  component,\n                  '$nuxt'\n                );\n\n                const isWritable = descriptor\n                  ? descriptor.writable || descriptor.set\n                  : false;\n\n                if (component.$nuxt && isWritable) {\n                  // In case of Nuxt (3), we ensure the context is shared between\n                  // the real and cloned component\n                  this.$nuxt = component.$nuxt;\n                }\n              },\n              created() {\n                instance = this.instantsearch;\n\n                instance.start();\n                // although we use start for initializing the main index,\n                // we don't want to send search requests yet\n                instance.started = false;\n              },\n            },\n          ],\n        });\n      })\n      .then(() => renderToString(app))\n      .then(() => waitForResults(instance))\n      .then((requestParamsList) => {\n        initialResults = getInitialResults(\n          instance.mainIndex,\n          requestParamsList\n        );\n        search.hydrate(initialResults);\n        return search.getState();\n      });\n  };\n\n  /**\n   * @returns {Promise} result state to serialize and enter into .hydrate\n   */\n  search.getState = function () {\n    if (!initialResults) {\n      throw new Error('You need to wait for findResultsState to finish');\n    }\n    return initialResults;\n  };\n\n  /**\n   * make sure correct data is available in each widget's state.\n   * called in widget mixin with (this.widget, this)\n   *\n   * @param {object} widget The widget instance\n   * @param {object} parent The local parent index\n   * @returns {void}\n   */\n  search.__forceRender = function (widget, parent) {\n    const results = parent.getResults();\n\n    // this happens when a different InstantSearch gets rendered initially,\n    // after the hydrate finished. There's thus no initial results available.\n    if (results === null) {\n      return;\n    }\n\n    const state = results._state;\n\n    const localHelper = parent.getHelper();\n    // helper gets created in init, but that means it doesn't get the injected\n    // parameters, because those are from the lastResults\n    localHelper.state = state;\n\n    widget.render({\n      helper: localHelper,\n      results,\n      scopedResults: parent.getScopedResults(),\n      parent,\n      state,\n      templatesConfig: {},\n      createURL: parent.createURL,\n      instantSearchInstance: search,\n      searchMetadata: {\n        isSearchStalled: false,\n      },\n    });\n  };\n\n  /**\n   * Called both in server\n   * @param {object} results a map of indexId: SearchResults\n   * @returns {void}\n   */\n  search.hydrate = function (results) {\n    if (!results) {\n      warn(\n        'The result of `findResultsState()` needs to be passed to `hydrate()`.'\n      );\n      return;\n    }\n\n    search._initialResults = results;\n\n    search.start();\n    search.started = false;\n  };\n  return search;\n}\n\nexport function createServerRootMixin(instantSearchOptions = {}) {\n  const { $cloneComponent = defaultCloneComponent } = instantSearchOptions;\n\n  const search = augmentInstantSearch(instantSearchOptions, $cloneComponent);\n\n  // put this in the user's root Vue instance\n  // we can then reuse that InstantSearch instance seamlessly from `ais-instant-search-ssr`\n  const rootMixin = {\n    provide() {\n      return {\n        $_ais_ssrInstantSearchInstance: this.instantsearch,\n      };\n    },\n    data() {\n      return {\n        // this is in data, so that the real & cloned render do not share\n        // the same instantsearch instance.\n        instantsearch: search,\n      };\n    },\n  };\n\n  return rootMixin;\n}\n"],"names":["suit","widgetName","element","modifier","Error","const","elements","push","join","createSuitMixin","props","classNames","type","Object","default","undefined","methods","className","name","userClassName","this","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","isVue2","isVue3","Vue2","Vue","version","augmentCreateElement","createElement","tag","propsWithClassName","assign","class","children","attrs","rest","on","nativeOn","style","domProps","renderCompat","fn","call","getDefaultSlot","component","$slots","getScopedSlot","$scopedSlots","cache","Set","warn","message","has","add","console","createWidgetMixin","additionalProperties","inject","instantSearchInstance","from","$options","_componentTag","TypeError","getParentIndex","mainIndex","data","state","created","connector","factory","updateState","widget","widgetParams","addWidgets","_initialResults","started","__forceRender","removeWidgets","watch","handler","nextWidgetParams","deep","isFirstRender","PANEL_EMITTER_NAMESPACE","PANEL_CHANGE_EVENT","createPanelProviderMixin","emitter","required","mitt","provide","canRefine","updateCanRefine","all","clear","createPanelConsumerMixin","Boolean","emit","hasAlreadyEmitted","immediate","nextState","previousState","previousCanRefine","mapStateToCanRefine","nextCanRefine","inheritAttrs","mixins","connectConfigure","$$widgetType","computed","searchParameters","$attrs","render","h","slot","refine","EXPERIMENTAL_connectConfigureRelatedItems","hit","matchingPatterns","transformSearchParameters","Function","htmlUnescapes","&amp;","&lt;","&gt;","&quot;","&#39;","reEscapedHtml","reHasEscapedHtml","RegExp","unescape","string","test","replace","character","TAG_PLACEHOLDER","highlightPreTag","highlightPostTag","parseHighlightedAttribute","splitByPreTag","highlightedValue","split","preTag","firstValue","shift","isHighlighted","postTag","let","splitByPostTag","parseAlgoliaHit","highlightObject","getPropertyByPath","highlightProperty","attribute","Array","isArray","map","item","connectHitsWithInsights","showBanner","escapeHTML","transformItems","defaultSlot","itemSlot","bannerSlot","createHitsComponent","hits","items","objectID","rootProps","click","onClick","auxclick","onAuxClick","index","insights","sendEvent","banner","bannerComponent","root","list","bannerRoot","bannerImage","bannerLink","connectIndex","indexWidget","$_ais_getParentIndex","indexName","String","indexId","createInstantSearchComponent","$_ais_instantSearchInstance","searchClient","helper","setClient","search","setIndex","stalledSearchDelay","_stalledSearchDelay","routing","onStateChange","searchFunction","_searchFunction","middlewares","next","prev","middleware","indexOf","middlewareToRemove","unuse","middlewareToAdd","use","future","INSTANTSEARCH_FUTURE_DEFAULTS","client","addAlgoliaAgent","vueVersion","mounted","$nextTick","start","dispose","__initialSearchResults","oldApiWarning","insightsClient","validator","router","stateMapping","Number","initialUiState","apiKey","appId","instantsearch","$_ais_ssrInstantSearchInstance","connectQueryRules","trackedFilters","transformRuleContexts","getWidgetAttribute","vnode","componentOptions","propsData","attributes","reduce","acc","curr","connectDynamicWidgets","facets","maxValuesPerFacet","components","Map","set","allComponents","hidden","attributesToRender","get","widgets","AisDynamicWidgets","plugin","install","localVue","defaultCloneComponent","componentInstance","app","options","serverPrefetch","fetch","_base","$router","store","$store","i18n","$i18n","$vnode","Ctor","extend","$root","augmentInstantSearch","instantSearchOptions","cloneComponent","initialResults","findResultsState","instance","renderToString","Promise","resolve","then","beforeCreate","descriptor","isWritable","$nuxt","waitForResults","requestParamsList","getInitialResults","hydrate","getState","parent","results","getResults","_state","localHelper","getHelper","scopedResults","getScopedResults","templatesConfig","createURL","searchMetadata","isSearchStalled","createServerRootMixin","$cloneComponent"],"mappings":"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"}